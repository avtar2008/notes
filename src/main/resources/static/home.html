<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Home Page</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> 
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.3/angular.js"></script>
<link rel="stylesheet" type="text/css" href="home.css" />

</head>
	
<body onload="load_startup()">
<div id=big_div data-ng-app="">
	<div data-ng-include = "'header.html'">
	</div>
	
	<div id="mid_div">
		<div data-ng-include="'LHN.html'"></div>
		<section id= "main_section">

		</section>
	</div>
	
	<div data-ng-include="'footer.html'"></div>
	
</div>

<script type="text/javascript">
		$(document).ready(function(){
			$('input').click(function(){
				$("#"+(this.id)).val("");		
				
			});
		 	
		
		
		});
		
		function on() {
			
			var obj = new Object();
			var param = document.getElementById("text1").value; 
			obj.name = param;
			//obj.name2 = document.getElementById("text2").value;

			var jsonString = JSON.stringify(obj);

			var xmlHttp = new XMLHttpRequest();
			xmlHttp.open("POST", "http://localhost:8080/notes/" + "user1", false);
			xmlHttp.setRequestHeader("Content-type", "application/json");
			xmlHttp.send(jsonString);
			return xmlHttp.responseText;
		}

		function load_startup(){
			var xmlHttp = new XMLHttpRequest();
			xmlHttp.open("GET", "http://localhost:8080/notes/" + "user2", false);
			// xmlHttp.setRequestHeader("Content-type", "application/json");
			xmlHttp.send();
			console.log(xmlHttp.responseText);
			var response =  JSON.parse(xmlHttp.responseText);

			console.log(response[0].name);
			response.forEach(function(item, index){
				index++;
				var label = document.createElement("LABEL");   // Create a <button> element
				label.innerHTML = index + ': ' + item.gender + ' , ' +  item.text + ' , ' + item.created;
				// console.log(item.text);
				label.className = "notes";
				label.id = "note" + index;
				label.style = "padding:10px;  font: 20px bold italic Tahoma cursive;  display: block;  width: 90%; border-radius:15px; " +
						"border:5px solid grey; border-padding:5px";
				document.getElementById("main_section").appendChild(label);
				document.getElementById("main_section").innerHTML += "<br>";
			});
		}
		
	</script>

</body>
</html>